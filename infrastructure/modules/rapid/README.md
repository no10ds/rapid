# Rapid Module

Use this module to spin up a rAPId instance within existing AWS infrastructure.

<!-- BEGIN_TF_DOCS -->

## Requirements

No requirements.

## Providers

| Name                                             | Version |
| ------------------------------------------------ | ------- |
| <a name="provider_aws"></a> [aws](#provider_aws) | 4.50.0  |

## Modules

| Name                                                                       | Source           | Version |
| -------------------------------------------------------------------------- | ---------------- | ------- |
| <a name="module_app_cluster"></a> [app_cluster](#module_app_cluster)       | ../app-cluster   | n/a     |
| <a name="module_auth"></a> [auth](#module_auth)                            | ../auth          | n/a     |
| <a name="module_data_workflow"></a> [data_workflow](#module_data_workflow) | ../data-workflow | n/a     |
| <a name="module_ui"></a> [ui](#module_ui)                                  | ../ui            | n/a     |

## Resources

| Name                                                                                                                                                | Type     |
| --------------------------------------------------------------------------------------------------------------------------------------------------- | -------- |
| [aws_s3_bucket.logs](https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/s3_bucket)                                         | resource |
| [aws_s3_bucket.this](https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/s3_bucket)                                         | resource |
| [aws_s3_bucket_policy.log_bucket_policy](https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/s3_bucket_policy)              | resource |
| [aws_s3_bucket_public_access_block.logs](https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/s3_bucket_public_access_block) | resource |
| [aws_s3_bucket_public_access_block.this](https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/s3_bucket_public_access_block) | resource |

## Inputs

| Name                                                                                                                                          | Description                                                                               | Type                                                                                                                                                                                                                 | Default                                                                                                                                                                                                      | Required |
| --------------------------------------------------------------------------------------------------------------------------------------------- | ----------------------------------------------------------------------------------------- | -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ | :------: |
| <a name="input_allowed_email_domains"></a> [allowed_email_domains](#input_allowed_email_domains)                                              | List of allowed emails domains that can be associated with users                          | `string`                                                                                                                                                                                                             | n/a                                                                                                                                                                                                          |   yes    |
| <a name="input_app-replica-count-desired"></a> [app-replica-count-desired](#input_app-replica-count-desired)                                  | The desired number of replicas of the app                                                 | `number`                                                                                                                                                                                                             | `1`                                                                                                                                                                                                          |    no    |
| <a name="input_app-replica-count-max"></a> [app-replica-count-max](#input_app-replica-count-max)                                              | The maximum desired number of replicas of the app                                         | `number`                                                                                                                                                                                                             | `2`                                                                                                                                                                                                          |    no    |
| <a name="input_application_version"></a> [application_version](#input_application_version)                                                    | The version number for the application image (e.g.: v1.0.4, v1.0.x-latest, etc.)          | `string`                                                                                                                                                                                                             | `"v6.0.1"`                                                                                                                                                                                                   |    no    |
| <a name="input_aws_account"></a> [aws_account](#input_aws_account)                                                                            | AWS Account number to host the rAPId service                                              | `string`                                                                                                                                                                                                             | n/a                                                                                                                                                                                                          |   yes    |
| <a name="input_aws_region"></a> [aws_region](#input_aws_region)                                                                               | The region of the AWS Account for the rAPId service                                       | `string`                                                                                                                                                                                                             | n/a                                                                                                                                                                                                          |   yes    |
| <a name="input_catalog_disabled"></a> [catalog_disabled](#input_catalog_disabled)                                                             | Optional value on whether to disable the internal rAPId data catalog                      | `bool`                                                                                                                                                                                                               | `false`                                                                                                                                                                                                      |    no    |
| <a name="input_certificate_validation_arn"></a> [certificate_validation_arn](#input_certificate_validation_arn)                               | Arn of the certificate used by the domain                                                 | `string`                                                                                                                                                                                                             | `""`                                                                                                                                                                                                         |    no    |
| <a name="input_domain_name"></a> [domain_name](#input_domain_name)                                                                            | Domain name for the rAPId instance                                                        | `string`                                                                                                                                                                                                             | n/a                                                                                                                                                                                                          |   yes    |
| <a name="input_ecs_cluster_arn"></a> [ecs_cluster_arn](#input_ecs_cluster_arn)                                                                | ECS cliuster arn to attach the rAPId api to                                               | `string`                                                                                                                                                                                                             | `null`                                                                                                                                                                                                       |    no    |
| <a name="input_ecs_cluster_id"></a> [ecs_cluster_id](#input_ecs_cluster_id)                                                                   | ECS cluster id to attach the rAPId api to                                                 | `string`                                                                                                                                                                                                             | `null`                                                                                                                                                                                                       |    no    |
| <a name="input_ecs_cluster_name"></a> [ecs_cluster_name](#input_ecs_cluster_name)                                                             | ECS cluster name to attach the rAPId api to                                               | `string`                                                                                                                                                                                                             | `null`                                                                                                                                                                                                       |    no    |
| <a name="input_enable_cloudtrail"></a> [enable_cloudtrail](#input_enable_cloudtrail)                                                          | Whether to enable the logging of db events to CloudTrail                                  | `bool`                                                                                                                                                                                                               | `true`                                                                                                                                                                                                       |    no    |
| <a name="input_hosted_zone_id"></a> [hosted_zone_id](#input_hosted_zone_id)                                                                   | Hosted Zone ID with the domain Name Servers, pass quotes to create a new one from scratch | `string`                                                                                                                                                                                                             | `""`                                                                                                                                                                                                         |    no    |
| <a name="input_ip_whitelist"></a> [ip_whitelist](#input_ip_whitelist)                                                                         | A list of IPs to whitelist for access to the service                                      | `list(string)`                                                                                                                                                                                                       | n/a                                                                                                                                                                                                          |   yes    |
| <a name="input_password_policy"></a> [password_policy](#input_password_policy)                                                                | The Cognito pool password policy                                                          | <pre>object({<br> minimum_length = number<br> require_lowercase = bool<br> require_numbers = bool<br> require_symbols = bool<br> require_uppercase = bool<br> temporary_password_validity_days = number<br> })</pre> | <pre>{<br> "minimum_length": 8,<br> "require_lowercase": true,<br> "require_numbers": true,<br> "require_symbols": true,<br> "require_uppercase": true,<br> "temporary_password_validity_days": 7<br>}</pre> |    no    |
| <a name="input_private_subnet_ids_list"></a> [private_subnet_ids_list](#input_private_subnet_ids_list)                                        | A list of private subnets from each organisation network config                           | `list(string)`                                                                                                                                                                                                       | n/a                                                                                                                                                                                                          |   yes    |
| <a name="input_public_subnet_ids_list"></a> [public_subnet_ids_list](#input_public_subnet_ids_list)                                           | A list of public subnets from the VPC config                                              | `list(string)`                                                                                                                                                                                                       | n/a                                                                                                                                                                                                          |   yes    |
| <a name="input_rapid_ecr_url"></a> [rapid_ecr_url](#input_rapid_ecr_url)                                                                      | ECR Url for task definition                                                               | `string`                                                                                                                                                                                                             | `"public.ecr.aws/no10-rapid/api"`                                                                                                                                                                            |    no    |
| <a name="input_resource-name-prefix"></a> [resource-name-prefix](#input_resource-name-prefix)                                                 | organization prefix of for naming                                                         | `string`                                                                                                                                                                                                             | n/a                                                                                                                                                                                                          |   yes    |
| <a name="input_support_emails_for_cloudwatch_alerts"></a> [support_emails_for_cloudwatch_alerts](#input_support_emails_for_cloudwatch_alerts) | List of emails that will receive alerts from CloudWatch                                   | `list(string)`                                                                                                                                                                                                       | n/a                                                                                                                                                                                                          |   yes    |
| <a name="input_tags"></a> [tags](#input_tags)                                                                                                 | A common map of tags for all VPC resources that are created (for e.g. billing purposes)   | `map(string)`                                                                                                                                                                                                        | <pre>{<br> "Resource": "data-f1-rapid"<br>}</pre>                                                                                                                                                            |    no    |
| <a name="input_ui_version"></a> [ui_version](#input_ui_version)                                                                               | The version number for the static ui (e.g.: v1.0.0, etc.)                                 | `string`                                                                                                                                                                                                             | `"v6.0.1"`                                                                                                                                                                                                   |    no    |
| <a name="input_us_east_certificate_validation_arn"></a> [us_east_certificate_validation_arn](#input_us_east_certificate_validation_arn)       | Arn of the certificate used by Cloudfront. Please note this has to live in us-east-1.     | `string`                                                                                                                                                                                                             | `""`                                                                                                                                                                                                         |    no    |
| <a name="input_vpc_id"></a> [vpc_id](#input_vpc_id)                                                                                           | The ID of the multihost VPC                                                               | `string`                                                                                                                                                                                                             | n/a                                                                                                                                                                                                          |   yes    |

## Outputs

No outputs.

<!-- END_TF_DOCS -->
